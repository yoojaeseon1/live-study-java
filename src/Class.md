### 클래스

#### 정의

- 객체를 생성하기 위해 상태(State)와 행동(Behavior)를 정의하는 설계도
- 객체
  - 상태와 행동을 가지고 책임을 지는 대상
  - 책임을 본인이 직접 질 수도 있고 다른 객체에 위임할 수도 있다.
  - 특성
    - 추상화
      - 공통적인 특징(필드, 메소드)를 파악해 대상으로 만드는 것
      - ex) 아우디, 벤츠의 공통된 속성을 자동차 클래스로 만들어 추상화 하는 것
    - 캡슐화
      - 정보은닉을 가능하게 하는 특징
        - 외부에서 내부의 필드, 메소드에 직접 접근을 제한한다.
        - 자바에서 private 접근제어자를 사용한다.
    - 상속
      - 상위 클래스의 모든 필드와 메소드를 하위 클래스가 물려받을 수 있다.
      - 메소드를 재 정의하거나 하위 클래스만의 메소드를 추가할 수 있다.
    - 다형성
      - 같은 데이터를 입력하더라도 객체 고유한 응답을 할 수 있는 것
      - 상속 받은 객체에서 오버라이딩된 메소드가 다른 기능을 하는 것

#### 구조

##### 필드

- 객체의 상태를 나타낸다. 멤버 변수라고도 불린다.
- 종류
  - 인스턴스 변수 : 인스턴스가 갖는 변수. heap 영역에 할당되고, GC에 의해 관리된다.
  - 클래스 변수
    - 앞에 static 키워드가 붙은 변수
    - 모든 인스턴스가 이 변수를 공유한다.
    - method 영역에서 관리한다.
    - public 까지 붙이면 전역 변수가 된다.

---

##### 메서드

- 객체의 행동
- 종류
  - 인스턴스 메서드
    - 인스턴스를 통해 호출하는 메서드
  - 클래스 메서드
    - 정적(static) 메서드라고도 불리며, 인스턴스와 관계없는 메서드

---

##### 생성자

- 객체가 생성된 직후 필드를 초기화하는 용도
- 리턴타입 없다.
- 기본 생성자 : 파라미터가 없는 생성자
- 생성자를 정의하지 않으면 기본 생성자를 자동으로 만들어준다.
- 인자를 받는 생성자를 정의하면, 기본 생성자를 따로 정의 해줘야한다.

---

##### 초기화 블록

- 명시적으로 초기화하지 않고, 반복문 / 조건문을 통한 초기화를 할 수 있다.

  - 종류

    - 인스턴스 초기화 블록 : 인스턴스 변수 초기화
    - 클래스 초기화 블록 : 클래스(정적) 변수 초기화

    ```
    java
    private int age;
    private static String name = "kim"; // 명시적 초기화
    private double discountRate;
    
    public Person(int age) {
        this.age = age;
    }
    
    // 인스턴스 초기화 블록
    {
        age = 70;
    
        if(age > 60) {
            discountRate = 0.4;
        }
    }
    
    // 클래스 초기화 블록
    static{
        name = "yoo";
    }
    ```

  - 초기화(실행) 순서

    - 인스턴스 초기화 블록 : 기본 값 -> 명시적 초기화 -> 인스턴스 초기화 블록 -> 생성자
    - 클래스 초기화 블록 : 기본 값 -> 명시적 초기화 -> 클래스 초기화 블록

---

##### 접근 제어자 / 제어자

- 접근 제어자
  - 클래스 / 클래스의 필드에 접근할 수 있는 권한
  - public / protected / default / private
  - 클래스는 public / default(입력 X) 만 가능하다.

| 접근 제어자 | 동일 클래스 | 동일 패키지 | 자손 클래스 | 그 외 영역(다른 패키지) |
| :---------: | :---------: | :---------: | :---------: | :---------------------: |
|   public    |      O      |      O      |      O      |            O            |
|  protected  |      O      |      O      |      O      |                         |
|   default   |      O      |      O      |             |                         |
|   private   |      O      |             |             |                         |

- 제어자
  - static
    - 인스턴스가 아닌 클래스에서 공통적으로 관리한다.
    - 입력 가능 : 필드, 메소드
      - 필드 : 클래스에서 관리하는 필드
      - 메소드 : 클래스가 관리하는 메소드
  - final
    - 입력 가능 : 클래스, 필드
    - 클래스 : 상속 불가
    - 필드 : 1회 초기화 이후 초기화 불가
  - abstract
    - 입력 가능 : 클래스, 추상 클래스 내부의 메소드
    - 클래스 : 추상 클래스
    - 메소드 : 추상 메소드를 명세
  - synchronized
    - 입력 가능 : 메서드
    - 해당 메서드에 한 번에 하나의 스레드만 접근 가능
  - transient
    - 입력 가능 : 변수, 메서드
    - 직렬화 할 때 해당 변수, 메서드를 무시한다.
  - volitale
    - 입력 가능 : 변수
    - 해당 변수의 조작에 CPU 캐시가 쓰이지 않고 항상 메인 메모리로부터 읽힌다.

---

#### 생성

##### 인스턴스

- new 키워드를 사용해 생성할 수 있다.
- 힙 영역에 할당되고 GC의 관리를 받는다.

```
java
public static void main(String[] args) {

    Person person1 = new Person();
    Person person2 = new Person(50);

}
```

###### 메서드

- 구조
  - 선언부
    - 접근 제어자 (제어자) 리턴타입 메서드명 (매개변수 리스트)  
    - 메서드 시그니쳐 : 메서드명 + 매개변수리스트
      - 시그니쳐로 오버로딩되는 메서드를 구별한다.(메소드 명은 같고 매개 변수 리스트의 타입, 순서가 일치해야 한다.)
  - 구현부
    - 메소드를 구현
- 접근 제어자, 제어자 전부 사용하는 경우

```
java
public static void main(String[] args) {
	...
}
```

- public : 어디서든 접근 가능해야 하기 때문에 JVM이 어디에 있던 실행할 수 있어야 하기 때문
- static
  - 인스턴스의 생성 없이 JVM이 실행해야 하기 때문
  - static 메소드는 Runtime Data Area의 Method 영역에 할당된다.
  - method 영역은 프로그램 실행 시 할당되고 종료시 해제된다.
  - main 메서드가 프로그램 실행시 실행되고 종료 시 종료되기 때문에 method 영역에서 관리되는 것이 맞다.
- void : 프로그램이 종료 된 후 반환하는 값은 의미가 없기 때문
- main : 정한 이름

- private static 메서드
  - static 메서드에서는 static 메서드만 호출할 수 있다.
  - public static 메소드 안에 private static 메소드를 호출하는 용도로 사용
  - private는 클래스 내부에서만 접근 가능하기 때문에 외부에서는 public static의 접근으로만 기능을 사용할 수 있는 것이다.
- private static 필드
  - static 메서드에서만 접근 할 수 있다.
  - static 메소드에 사용할 목적으로 내부에서만 접근할 수 있도록 만든 필드 
- static 끼리만 접근 가능한 이유
  - static 메소드 안에서 static이 아닌 필드 / 메소드는 인스턴스가 생성되지 않았으면 메모리에 올라가 있지 않다.
  - 메소드의 경우 인스턴스가 생성되어 있는지 알 수 없기 때문에 사용할 수 없다.
  - 필드의 경우 어떤 인스턴스의 값을 가져올지도 알 수 없기 때문에 사용할 수 없다.

- Parameter / Argument 차이

| 용어      | 번역       | 의미                            |
| --------- | ---------- | ------------------------------- |
| Parameter | 매개 변수  | 메서드 정의 에서의 입력 변수 명 |
| Argument  | (전달)인자 | 메서드의 입력 값                |

- 예시

```
java
public static String concat(String str1, String str2) {
        return str1 + str2;
}

public static void main(String[] args) {
	String concat("abcd", "efgh");
}
```

parameter : str1, str2

Argument : "abdc", "efgh"

- 헷갈리는 점
  - 아규먼트로 변수 명을 넣으면
    - 결국엔 그 변수의 값을 넣은 것이기 때문에 아규먼트다.

---

#### this

- 인스턴스 자신을 나타낸다.

- 사용 방법

  - 필드

  ```
  java
  public void setName(String name) {
      this.name = name;
  }
  ```

  - 생성자

    - this(매개 변수) 를 사용하면 해당 클래스의 생성자를 의미한다.

    ```
    java
    public class Point {
        private int x;
        private int y;
        private int z;
    
        Point(int x, int y) {
            this.x = x;
            this.y = y;
        }
    
        Point(int x, int y, int z) {
            this(x, y);
            this.z = z;
        }
    }
    ```

---

